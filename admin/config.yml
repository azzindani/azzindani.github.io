# Decap CMS Configuration
# Documentation: https://decapcms.org/docs/
#
# SETUP REQUIRED:
#   Before using the admin panel, create a GitHub OAuth App:
#   1. Go to: https://github.com/settings/developers → "New OAuth App"
#   2. Application name: Azzindani Portfolio CMS
#   3. Homepage URL: https://azzindani.github.io
#   4. Authorization callback URL: https://azzindani.github.io/
#   5. Click "Register application"
#   6. Copy the Client ID and replace REPLACE_WITH_YOUR_GITHUB_OAUTH_CLIENT_ID below
#   7. Commit & push — then visit https://azzindani.github.io/admin/ to log in

backend:
  name: github
  repo: azzindani/azzindani.github.io
  branch: main
  auth_type: implicit
  app_id: REPLACE_WITH_YOUR_GITHUB_OAUTH_CLIENT_ID

# Where uploaded images are stored in the repo
media_folder: assets/images
public_folder: /assets/images

# Site URL for preview links
site_url: https://azzindani.github.io

# ─────────────────────────────────────────────
# Content Collections
# ─────────────────────────────────────────────
collections:

  # Portfolio posts (stored in docs/ folder, Jekyll converts to HTML)
  - name: posts
    label: Portfolio Posts
    label_singular: Post
    folder: docs
    create: true
    slug: "{{slug}}"
    extension: md
    format: yaml-frontmatter
    preview_path: "docs/{{slug}}.html"
    summary: "{{title}} — {{date}}"
    sortable_fields: ["date", "title", "featured"]
    view_filters:
      - label: Featured
        field: featured
        pattern: true
      - label: PDF Projects
        field: type
        pattern: pdf

    fields:
      # ── Core metadata ──────────────────────────────────────────────
      - label: "Title"
        name: title
        widget: string
        hint: "Shown as the card title on the homepage"

      - label: "Description"
        name: description
        widget: string
        hint: "Short summary shown on the portfolio card (1–2 sentences)"

      - label: "Date"
        name: date
        widget: datetime
        date_format: "YYYY-MM-DD"
        time_format: false
        format: "YYYY-MM-DD"

      - label: "Category"
        name: category
        widget: select
        options:
          - { label: "Data Analytics", value: "data-analytics" }
          - { label: "Data Science", value: "data-science" }
          - { label: "Machine Learning", value: "machine-learning" }
          - { label: "Data Engineering", value: "data-engineering" }
          - { label: "Healthcare AI", value: "healthcare-ai" }
          - { label: "Web Development", value: "web-development" }
          - { label: "Data Visualization", value: "visualization" }
          - { label: "Automation", value: "automation" }
          - { label: "General", value: "general" }

      - label: "Tags"
        name: tags
        widget: list
        hint: "Press Enter after each tag (e.g. python, machine-learning, visualization)"

      - label: "Featured"
        name: featured
        widget: boolean
        default: false
        hint: "Featured posts appear first and get a star badge"

      # ── Display type ───────────────────────────────────────────────
      - label: "Project Type"
        name: type
        widget: select
        options:
          - { label: "Markdown Article (default)", value: "markdown" }
          - { label: "PDF Presentation", value: "pdf" }
        default: "markdown"
        hint: "Markdown: card opens Jekyll-rendered article. PDF: card opens PDF carousel viewer."

      # ── Cover image ────────────────────────────────────────────────
      - label: "Cover Image"
        name: image
        widget: image
        required: false
        hint: "Shown as the card thumbnail. Upload via the image button or paste a URL. Recommended: 800×450px, WebP or JPEG"
        allow_multiple: false

      # ── PDF path (only for PDF-type posts) ────────────────────────
      - label: "PDF File Path"
        name: pdf
        widget: string
        required: false
        hint: "For PDF type only. Upload your PDF to assets/pdfs/ via GitHub, then enter the path here, e.g. assets/pdfs/my-project.pdf"

      # ── Jekyll layout (hidden — always 'default') ──────────────────
      - label: "Layout"
        name: layout
        widget: hidden
        default: "default"

      # ── Post body ──────────────────────────────────────────────────
      - label: "Content"
        name: body
        widget: markdown
        hint: "Write your project description, methodology, and results here. Supports Markdown with headings, images, code blocks, and tables."
